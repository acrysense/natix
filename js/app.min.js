"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.addEventListener("DOMContentLoaded",(function(){var e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;function t(e){var t=0,r=window.innerWidth-document.body.offsetWidth+"px",n=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top?document.body.style.top=document.body.style.top:document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=r,n&&n.forEach((function(e){e.style.marginRight=r}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),n&&n.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function r(e){var t=window.innerWidth>=744?1440:375;return"".concat(e/t*100,"vw")}function n(){var e="";_.forEach((function(t){var r=t.offsetTop,n=t.offsetHeight;window.pageYOffset>=r-n/3&&(e=t.getAttribute("id"))})),!e&&S&&(e=S.getAttribute("id")),b.forEach((function(t){t.parentNode.classList.remove("is--active"),t.getAttribute("href")==="#"+e&&t.parentNode.classList.add("is--active")}))}function o(){var e=document.documentElement.clientWidth;document.querySelectorAll(".nav__dropdown")&&document.querySelectorAll(".nav__dropdown").forEach((function(t){var r=t.scrollHeight/e*100;t.style.setProperty("--dropdown-height","".concat(r,"vw"))}))}Inputmask().mask(document.querySelectorAll("input"));var i=document.querySelectorAll("textarea");i&&i.forEach((function(e){e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",(function(t){e.style.height="auto",e.style.height=e.scrollHeight+"px"}))}));var a=document.getElementById("mobile-menu"),l=document.getElementById("hamburger-toggle");a&&l&&l.addEventListener("click",(function(e){e.preventDefault(),a.classList.contains("is--active")?(l.classList.remove("is--active"),a.classList.remove("is--active"),document.querySelector(".header")&&document.querySelector(".header").classList.remove("is--menu"),t(0)):(l.classList.add("is--active"),a.classList.add("is--active"),document.querySelector(".header")&&document.querySelector(".header").classList.add("is--menu"),t(1))}));var s=document.querySelectorAll(".nav__elem .nav__link");s&&s.forEach((function(t){t.addEventListener("click",(function(r){var n=t.closest(".nav__elem");e&&(n.classList.contains("is--open")||(r.preventDefault(),n.classList.add("is--open")))}))}));var c=document.querySelectorAll(".tabs__select-placeholder");c&&c.forEach((function(e){var t=function(){e.closest(".tabs__select").classList.remove("is--open")},r=function(e,t){var r=!1,n=function(r){for(var n=r.target;n;){if(e.includes(n))return;n=n.parentNode}t(),o()};function o(){r&&(document.documentElement.removeEventListener("click",n),r=!1)}return{setBodyChecker:function(){r||(document.documentElement.addEventListener("click",n),r=!0)},removeBodyChecker:o}}([e.parentNode],t);e.addEventListener("click",(function(n){n.preventDefault();var o=e.closest(".tabs__select");o.classList.contains("is--open")?t():(o.classList.add("is--open"),r.setBodyChecker())}))}));var u=document.querySelector(".cases__slider .swiper");u&&function(e){(function(e,t){var r=e.querySelector(".swiper-wrapper"),n=Array.from(r.children),o=t-n.length;if(o>0)for(var i=0;i<o;i++){var a=n[i%n.length].cloneNode(!0);a.classList.add("swiper-slide--clone"),r.append(a)}})(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:9),new Swiper(e,{slidesPerView:"auto",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".cases__slider .swiper-button-next"}})}(u);var d=document.querySelectorAll(".all-cases-card__slider .swiper");d&&d.forEach((function(e){new Swiper(e,{slidesPerView:"auto",loop:!0,pagination:{el:e.closest(".all-cases-card__slider").querySelector(".swiper-pagination"),clickable:!0}})}));var p=document.querySelector(".about-services__slider .swiper");if(p&&window.innerWidth<=743)new Swiper(p,{slidesPerView:1,spaceBetween:20,loop:!0,pagination:{el:".swiper-pagination",clickable:!0}});var f=document.querySelector(".team__slider .swiper");if(f&&window.innerWidth<=743)new Swiper(f,{slidesPerView:"auto"});var m=document.querySelectorAll(".technical-solutions__slider .swiper");m&&m.forEach((function(e){new Swiper(e,{slidesPerView:4,loop:!0,pagination:{el:e.closest(".technical-solutions__slider").querySelector(".swiper-pagination"),clickable:!0},breakpoints:{0:{slidesPerView:1},744:{slidesPerView:4}}})}));var v=document.querySelectorAll(".development__slider .swiper");v&&v.forEach((function(e){new Swiper(e,{slidesPerView:1,loop:!0,pagination:{el:e.closest(".development__slider").querySelector(".swiper-pagination"),clickable:!0},navigation:{prevEl:e.closest(".development__slider").querySelector(".swiper-button-prev"),nextEl:e.closest(".development__slider").querySelector(".swiper-button-next")}})}));var y=document.querySelectorAll(".solutions__slider .swiper");y&&y.forEach((function(e){new Swiper(e,{slidesPerView:3,pagination:{el:e.closest(".solutions__slider").querySelector(".swiper-pagination"),clickable:!0},breakpoints:{0:{slidesPerView:"auto"},744:{slidesPerView:3}}})}));var h=document.querySelectorAll(".tools__slider .swiper");h&&h.forEach((function(e){new Swiper(e,{slidesPerView:"auto"})}));var g=document.querySelectorAll(".project-gallery__slider .swiper");g&&g.forEach((function(e){new Swiper(e,{slidesPerView:"auto",spaceBetween:20,pagination:{el:e.closest(".project-gallery__slider").querySelector(".swiper-pagination"),clickable:!0}})}));var w=document.querySelector(".header"),_=document.querySelectorAll(".common__section"),b=document.querySelectorAll(".common-nav__link"),S=null;_&&b&&(S=_[0],n());var L=document.querySelector(".circles");if(L){gsap.registerPlugin(ScrollTrigger);var E=L.querySelector(".circles__circle--big"),q=L.querySelector(".circles__circle--small"),A=getComputedStyle(E).getPropertyValue("--background").trim()||"#F0DFDD",k=getComputedStyle(q).getPropertyValue("--background").trim()||"#F0C6C0";window.innerWidth>=744?gsap.timeline({scrollTrigger:{trigger:L,start:"top top",end:"+=1000",scrub:!0}}).fromTo(E,{scale:1,x:0,backgroundColor:A,zIndex:-11},{scale:.5833,x:r(241),backgroundColor:k,zIndex:-10,ease:"power1.inOut"},0).fromTo(q,{scale:1,x:0,backgroundColor:k,zIndex:-10},{scale:1.7143,x:r(-210),backgroundColor:A,zIndex:-11,ease:"power1.inOut"},0):gsap.timeline({scrollTrigger:{trigger:L,start:"top top",end:"+=1000",scrub:!0}}).fromTo(E,{scale:1,x:0,backgroundColor:A,zIndex:-11},{scale:.5833,x:r(101),backgroundColor:k,zIndex:-10,ease:"power1.inOut"},0).fromTo(q,{scale:1,x:0,backgroundColor:k,zIndex:-10},{scale:1.7143,x:r(-90),backgroundColor:A,zIndex:-11,ease:"power1.inOut"},0)}window.addEventListener("scroll",(function(){window.scrollY>0?w.classList.add("is--fixed"):w.classList.remove("is--fixed"),document.querySelectorAll(".common__section").length>0&&document.querySelectorAll(".common-nav__link").length>0&&n()})),window.addEventListener("load",(function(){o()})),window.addEventListener("resize",(function(){o()}));var x=function(){},I=function(){},T=[],P=document.querySelector(".discuss-project-form");if(P){var C=function(e){var t=e.value.trim();e.closest(".input-field");return!(e.hasAttribute("data-required")&&!t)&&!(e.inputmask&&t&&!e.inputmask.isComplete())},D=Array.from(P.querySelectorAll(".input-field__input, .input-field__textarea"));P.setAttribute("novalidate",""),D.filter((function(e){return e.dataset.mask})).forEach((function(e){return Inputmask({mask:e.dataset.mask,clearIncomplete:!0}).mask(e)})),P.addEventListener("submit",(function(e){e.preventDefault(),P.querySelectorAll(".input-field.is--error").forEach((function(e){return e.classList.remove("is--error")}));for(var r=!0,n=0,o=D;n<o.length;n++){var i=o[n];C(i)||(i.closest(".input-field").classList.add("is--error"),r=!1)}if(r){var a,l=_createForOfIteratorHelper(new FormData(P).entries());try{for(l.s();!(a=l.n()).done;){var s=_slicedToArray(a.value,2),c=s[0],u=s[1];u instanceof File?console.log("".concat(c," →"),u.name,u.size,u.type):console.log("".concat(c," →"),u)}}catch(e){l.e(e)}finally{l.f()}document.getElementById("popup-success")&&(document.getElementById("popup-success").classList.add("is--active"),t(1)),P.reset(),T=[],x(),I()}else{var d=P.querySelector(".input-field.is--error");if(d){var p=w.getBoundingClientRect().height+Number(20),f=d.getBoundingClientRect().top+window.pageYOffset-p;window.scrollTo({top:f,behavior:"smooth"})}}})),D.forEach((function(e){e.addEventListener("input",(function(){C(e)&&e.closest(".input-field").classList.remove("is--error")}))}))}var V=document.querySelector(".attach-files");if(V){var O=function(){T.length>=M||H.click()},B=V.querySelector(".attach-files__attach"),z=V.querySelector(".attach-files__attach-btn"),H=V.querySelector(".attach-files__input"),j=V.querySelector(".attach-files__list"),N=V.querySelector(".attach-files-list__wrapper"),W=V.querySelector(".attach-files-list__progress-fill"),F=V.querySelector(".attach-files-list__progress-value"),M=5;x=function(){var e=new DataTransfer;T.forEach((function(t){return e.items.add(t)})),V.querySelector(".attach-files__input").files=e.files},I=function(){T.length?(B.classList.add("is--hidden"),j.classList.add("is--active")):(B.classList.remove("is--hidden"),j.classList.remove("is--active")),N.innerHTML="",T.forEach((function(e){var t=e.name.split(".").pop().toLowerCase(),r=document.createElement("div");r.className="attach-files-list__item",r.innerHTML='\n                    <svg class="attach-files-list__icon">\n                    <use xlink:href="img/sprite.svg#icon-'.concat(t,'"></use>\n                    </svg>\n                    <span class="attach-files-list__title">').concat(e.name,'</span>\n                    <button type="button" class="attach-files-list__delete" aria-label="Удалить">\n                    <svg><use xlink:href="img/sprite.svg#icon-close"></use></svg>\n                    </button>\n                '),r.querySelector(".attach-files-list__delete").addEventListener("click",(function(){T=T.filter((function(t){return t!==e})),x(),I()})),N.appendChild(r)}));var e=Math.round(T.length/M*100);W.style.width=e+"%",F.textContent="Загрузка файлов: ".concat(T.length," из ").concat(M);var t=T.length>=M;B.disabled=t,z.disabled=t,B.classList.toggle("is--disabled",t),z.classList.toggle("is--disabled",t)},B.addEventListener("click",(function(e){e.preventDefault(),O()})),z.addEventListener("click",(function(e){e.preventDefault(),O()})),H.addEventListener("change",(function(){T.length>=M||(T=T.concat(Array.from(H.files)).slice(0,M),H.value="",x(),I())})),["dragover","dragenter"].forEach((function(e){return V.addEventListener(e,(function(e){e.preventDefault(),V.classList.add("is--dragover")}))})),["dragleave","drop"].forEach((function(e){return V.addEventListener(e,(function(t){t.preventDefault(),V.classList.remove("is--dragover"),"drop"===e&&(T=T.concat(Array.from(t.dataTransfer.files)).slice(0,M),x(),I())}))})),I()}var R=document.querySelectorAll(".popup"),Y=document.querySelectorAll(".popup-btn"),U=document.querySelectorAll(".popup__close");R&&Y&&U&&(R.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__wrap"))&&(e.preventDefault(),document.querySelectorAll(".popup.is--active").forEach((function(e){return e.classList.remove("is--active")})),t())}))})),Y.forEach((function(e,r){e.addEventListener("click",(function(r){r.preventDefault();var n=e.dataset.id;document.querySelectorAll(".popup.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(n).classList.add("is--active"),t(1)}))})),U.forEach((function(e){e.addEventListener("click",(function(r){r.preventDefault();e.closest(".popup").id;document.querySelectorAll(".popup.is--active").forEach((function(e){return e.classList.remove("is--active")})),t()}))})))}));